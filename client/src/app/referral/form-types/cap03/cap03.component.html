<form #referralDataForm="ngForm" (ngSubmit)="onSubmit()" class="cap03-form"
  fxLayout="column"
  fxLayoutAlign="center center"
>
  <p class="mat-title">Demande de licenciement pour inaptitude physique d'un agent CNRACL (28h ou plus)</p>
  <mat-divider></mat-divider>
  <div class="fields"
    fxLayout="row wrap"
    fxLayout.lt-md="column"
    fxLayoutGap="30px"
    fxLayoutAlign="center"
  >
    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.firstname"
        name="firstName"
        placeholder="Prénom"
        required
      >
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.lastname"
        name="lastName"
        placeholder="Nom"
        required
      >
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.birthdate"
        [matDatepicker]="birthDatePicker"
        name="birthdate"
        placeholder="Date de naissance"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #birthDatePicker></mat-datepicker>
    </mat-form-field>
  </div>

  <div
    fxLayout="row wrap"
    fxLayout.lt-md="column"
    fxLayoutGap="30px"
    fxLayoutAlign="center"
  >
    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.nomination"
        [matDatepicker]="nominationDatePicker"
        name="nomination"
        placeholder="Date de nomination"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="nominationDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #nominationDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.grade"
        name="grade"
        placeholder="Grade"
        required
      >
    </mat-form-field>
  </div>

  <div
    fxLayout="row wrap"
    fxLayout.lt-md="column"
    fxLayoutGap="30px"
    fxLayoutAlign="center"
  >
    <mat-form-field class="field hours" fxFlex.gt-md="40">
      <input matInput type="number" min="1" max="99"
        [(ngModel)]="data.hours"
        name="hours"
        placeholder="Temps de travail"
        required
      >
      <span matSuffix>h/semaine</span>
    </mat-form-field>

    <mat-form-field class="field position" fxFlex="60" fxFlex.lt-md="100">
      <input matInput
        [(ngModel)]="data.position"
        [matDatepicker]="positionDatePicker"
        name="position"
        placeholder="Position statutaire actuelle depuis le"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="positionDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #positionDatePicker></mat-datepicker>
    </mat-form-field>
  </div>

  <div
    fxLayout="row wrap"
    fxLayout.lt-md="column"
    fxLayoutGap="30px"
    fxLayoutAlign="center"
  >
    <mat-form-field class="field medical" fxFlex.gt-md="100">
      <input matInput
        [(ngModel)]="data.medical"
        [matDatepicker]="medicalDatePicker"
        name="medical"
        placeholder="Date du comité médical de l'avis d'inaptitude"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="medicalDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #medicalDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="field termination" fxFlex.lt-md="80">
      <input matInput
        [(ngModel)]="data.termination"
        [matDatepicker]="terminationDatePicker"
        name="termination"
        placeholder="Licenciement à comter du"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="terminationDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #terminationDatePicker></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="button">
    <button type="submit" mat-raised-button color="accent" [disabled]="referralDataForm.invalid">Suivant</button>
  </div>
</form>
