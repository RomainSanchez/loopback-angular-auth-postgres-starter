<form #referralDataForm="ngForm" (ngSubmit)="onSubmit()" class="ct14-form"
  fxLayout="column"
  fxLayoutAlign="center center"
>
  <p class="mat-title">Compte épargne temps</p>
  <mat-divider></mat-divider>

  <div class="field terms">
    <p class="label">Modalités d'alimentation du CET</p>
    <mat-selection-list #list [(ngModel)]="data.terms" name="terms" required>
      <mat-list-option value="Congés annuels">Congés annuels</mat-list-option>
      <mat-list-option value="RTT">RTT</mat-list-option>
      <mat-list-option value="Repos compensateurs">Repos compensateurs</mat-list-option>
    </mat-selection-list>
  </div>
  <div
    fxLayout="row wrap"
    fxLayout.lt-md="column"
    fxLayoutGap="30px"
    fxLayoutAlign="center"
    fxFlexFill
  >
    <mat-form-field class="field" fxFlex="30" fxFlex.lt-md="100">
      <input matInput
        [(ngModel)]="data.limit"
        [matDatepicker]="limitDatePicker"
        name="limit"
        placeholder="Date limite d'alimentation du CET"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="limitDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #limitDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="field" fxFlex="30" fxFlex.lt-md="100">
      <input matInput
        [(ngModel)]="data.information"
        [matDatepicker]="informationDatePicker"
        name="information"
        placeholder="Date d'information des agents sur la situation de leur CET"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="informationDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #informationDatePicker></mat-datepicker>
    </mat-form-field>

    <div class="field establishing" fxFlex="70" fxLayoutAlign="center center">
      <mat-checkbox [(ngModel)]="data.establishing" name="establishing">
        Instauration des nouvelles modalités d'utilisation des jours épargnés (transformation en épargne RAFP et indemnisation forfaitaire)
      </mat-checkbox>
    </div>

    <div class="field convention" fxFlex="70" fxLayoutAlign="center center">
      <mat-checkbox [(ngModel)]="data.convention" name="convention">Convention financière en cas de mutation</mat-checkbox>
    </div>

    <mat-form-field class="field" fxFlex="30" fxFlex.lt-md="100">
      <input matInput
        [(ngModel)]="data.application"
        [matDatepicker]="applicationDatePicker"
        name="application"
        placeholder="Date de mise en place du CET"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="applicationDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #applicationDatePicker></mat-datepicker>
    </mat-form-field>

    <div class="field staff-consulted" fxFlex="70" fxLayoutAlign="center center">
      <mat-checkbox [(ngModel)]="data.staffConsulted" name="staff-consulted">Consultation du personnel</mat-checkbox>
    </div>
  </div>

  <div class="button">
    <button type="submit" mat-raised-button color="accent" [disabled]="referralDataForm.invalid">Suivant</button>
  </div>
</form>

