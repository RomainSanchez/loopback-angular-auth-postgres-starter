<form #dataForm="ngForm" (ngSubmit)="onSubmit()" class="cap01-form">
  <p class="mat-title">Refus de titularisation</p>
  <mat-divider></mat-divider>
  <div class="agent">
    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.firstname"
        name="firstName"
        placeholder="Prénom"
        required
      >
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.lastname"
        name="lastName"
        placeholder="Nom"
        required
      >
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.birthdate"
        [matDatepicker]="birthDatePicker"
        name="birthdate"
        placeholder="Date de naissance"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #birthDatePicker></mat-datepicker>
    </mat-form-field>

  </div>

  <div>
    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.nomination"
        [matDatepicker]="nominationDatePicker"
        name="nomination"
        placeholder="Date de nomination"
        required
      >
      <mat-datepicker-toggle matSuffix [for]="nominationDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #nominationDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="field">
      <input matInput
        [(ngModel)]="data.grade"
        name="grade"
        placeholder="Grade"
        required
      >
    </mat-form-field>
  </div>

  <div>
    <mat-form-field class="field hours">
      <input matInput type="number" min="1" max="60"
        [(ngModel)]="data.hours"
        name="hours"
        placeholder="Temps de travail"
        required
      >
      <span matSuffix>heures/semaine</span>
    </mat-form-field>
  </div>

  <div class="field">
    <mat-checkbox [(ngModel)]="data.prorogation" name="prorogation">Le stage a t-il été prorogé ?</mat-checkbox>
  </div>

  <mat-form-field class="field denied-from">
    <input matInput
      [(ngModel)]="data.deniedFrom"
      [matDatepicker]="deniedFromDatePicker"
      name="deniedFrom"
      placeholder="Refus de titularisation à compter du"
      required
    >
    <mat-datepicker-toggle matSuffix [for]="deniedFromDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #deniedFromDatePicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field class="field" *ngIf="data.motivation === 'false'">
    <textarea [(ngModel)]="data.modifications" matInput cdkTextareaAutosize name="motivation" id="motivation" placeholder="Rapport motivé"></textarea>
  </mat-form-field>

  <div class="button">
    <button type="submit" mat-raised-button color="accent" [disabled]="dataForm.invalid">Suivant</button>
  </div>
</form>
